{% extends "newsapp/base.html" %}
{% load static %}

{% block title %} {{ translations.sign_up }} {% endblock %}

{% block style %}
<link rel="stylesheet" type="text/css" href="{% static 'users/styles.css' %}" />
{% endblock %}

{% block script %}
<script src="{% static 'users/js/password.js' %}" defer></script>
{% endblock %}

{% block content %}
<main>
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        {% if message.tags == 'success' %}
        <div class="alert-success">{{ message }}</div>
        {% elif message.tags == 'error' %}
        <div class="alert-error">{{ message }}</div>
        {% endif %}
        {% endfor %}
    </div>
    {% endif %}

    <div>
        <h1>{{ translations.sign_up }}</h1>
    </div>

    <form method="POST" action="{% url 'users:signup' %}">
        {% csrf_token %}

        <div class="form-field">
            <label for="id_username">{{ translations.username }}<span style="color: crimson">*</span>:</label>
            {{ form.username }}
            {% if form.username.errors %}
            <ul class="errorlist">
                {% for error in form.username.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>

        <div class="form-field">
            <label for="id_email">{{ translations.email }}:</label>
            {{ form.email }}
            {% if form.email.errors %}
            <ul class="errorlist">
                {% for error in form.email.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>

        <div class="form-field">
            <label for="id_first_name">{{ translations.first_name }}:</label>
            {{ form.first_name }}
        </div>

        <div class="form-field">
            <label for="id_last_name">{{ translations.last_name }}:</label>
            {{ form.last_name }}
        </div>

        <div class="form-field">
            <label for="id_password1">{{ translations.password }}<span style="color: crimson">*</span>:</label>
            {{ form.password1 }}
            <label>
                <input type="checkbox" class="toggle-password" data-target="password1">
                <span class="checkbox-label">{{ translations.show_password }}</span>
            </label>
        </div>

        <div class="form-field">
            <label for="id_password2">{{ translations.password_conf }}<span style="color: crimson">*</span>:</label>
            {{ form.password2 }}
            <label>
                <input type="checkbox" class="toggle-password" data-target="password2">
                <span class="checkbox-label">{{ translations.show_password }}</span>
            </label>
            {% if form.password2.errors %}
            <ul class="errorlist">
                {% for error in form.password2.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>


        <div class="grid button-group">
            <button type="submit">{{ translations.sign_up }}</button>
            <button type="reset">{{ translations.reset }}</button>
        </div>
    </form>

    <p class="note">
        <span style="color: crimson">*</span> {{ translations.required_note|safe }}
    </p>
</main>
{% endblock %}